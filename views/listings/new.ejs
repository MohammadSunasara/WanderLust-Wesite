<% layout("/layouts/boilerplate.ejs") %>

<div class="container">
  <div class="row">
    <div class="col-12 col-md-8 offset-md-2">
      <h2 class="text-center">Add a New Listing</h2>
      <form action="/listings" method="POST" novalidate class="needs-validation" enctype="multipart/form-data">
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" class="form-control" id="title" name="listing[title]" required>
          <div class="valid-feedback">Perfect Title</div>
          <div class="invalid-feedback">Enter title</div>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" name="listing[description]" rows="4" required></textarea>
          <div class="valid-feedback">Perfect Description</div>
          <div class="invalid-feedback">Enter Valid Description</div>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">Upload Image For Your Listing</label>
          <input type="file" class="form-control" id="image" name="listing[image]" required>
        </div>

        <div class="row">
          <div class="mb-3 col-12 col-md-6">
            <label for="price" class="form-label">Price</label>
            <input type="number" class="form-control" id="price" name="listing[price]" required>
            <div class="valid-feedback">Done</div>
            <div class="invalid-feedback">Enter Valid Price</div>
          </div>

          <div class="mb-3 col-12 col-md-6">
            <label for="country" class="form-label">Country</label>
            <input type="text" class="form-control" id="country" name="listing[country]" required>
            <div class="valid-feedback">Done</div>
            <div class="invalid-feedback">Enter Valid Country</div>
          </div>
        </div>

        <div class="row">
          <div class="mb-3 col-12 col-md-6">
            <label for="state" class="form-label">State</label>
            <select class="form-select" id="state" name="listing[state]" required>
              <option value="" disabled selected>Select a State</option>
              <% ["Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Goa", "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand", "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland", "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", "Uttar Pradesh", "Uttarakhand", "West Bengal"].forEach(state => { %>
                <option value="<%= state %>"><%= state %></option>
              <% }); %>
            </select>
            <div class="valid-feedback">State selected</div>
            <div class="invalid-feedback">Select a valid state</div>
          </div>

          <div class="mb-3 col-12 col-md-6">
            <label for="filter" class="form-label">Filter</label>
            <select class="form-select" id="filter" name="listing[filter]" required>
              <option value="" disabled selected>Select a Filter</option>
              <% ["Mountain", "Boats", "Domes", "Arctic", "Rooms", "Mountain Cities", "Castles", "Amazing Pools", "Camping", "Farms"].forEach(filter => { %>
                <option value="<%= filter %>"><%= filter %></option>
              <% }); %>
            </select>
            <div class="valid-feedback">Filter selected</div>
            <div class="invalid-feedback">Select a valid filter</div>
          </div>
        </div>

        <button type="submit" class="btn btn-primary mb-2">Add Listing</button>
      </form>
    </div>
  </div>
</div>
